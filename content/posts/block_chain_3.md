---
title: "03｜数字货币与智能合约"
date: 2021-08-03T12:21:50+08:00
tags: ["区块链"]
categories: ["技术前沿"]
draft: false
---

本文记录了非技术专业出身人员对区块链技术整体认知的建立过程，该系列将分为区块链概述、比特币区块链的本质、数字货币与智能合约、底层技术、应用场景与发展发向五个部分。

此文为第三部分，数字货币与智能合约。

上一部分我们详细探讨了比特币区块链的本质，在梳理区块链技术的版本迭代与沿革之前，我们先来闲聊一下八卦。

## 一、神秘人物中本聪

#### 1.首次出现

2008年11月1日，在一个秘密讨论群「密码学邮件组」里出现了一个新帖子：《Bitcoin: A peer-to-peer Electronic Cash System》。发帖的神秘人署名Satoshi Nakamoto，这是他的首次出现。

<img src="https://taylor-blog-1252438081.cos.ap-shanghai.myqcloud.com/img/image-20210906162000764.png" alt="image-20210906162000764" style="zoom:50%;" />

> “我正在开发一种新的电子货币系统，完全采用点对点的形式，而且无需第三方的介入。”

当时在密码学界里，大牛如云，中本聪作为无名小辈，他的发帖并未引起太大水花。

直到2009年1月3日，中本聪发布了开源的第一版比特币客户端，才引起世界的广泛关注。当时他通过挖矿获得了50枚比特币，产生第一批比特币的区块链就叫做“创世区块”（Genesis Block）。

值得注意的是，这篇帖子行文十分严谨，严格遵从了学术习惯，格式也是标准的论文格式。这个特征在后续寻找中本聪的过程中一直是一个评判标准。与密码朋克的文章相比，比特币创世论文的语言显得格外冷静和去政治化，文中没有出现政府或主权字眼，仅将比特币区块链描述成一个区别于传统金融的支付系统。



![image-20210906161842042](https://taylor-blog-1252438081.cos.ap-shanghai.myqcloud.com/img/image-20210906161842042.png)

这位传奇人物非常神秘，比特币发展初期的时候，他甚至匿名参与指导。后来比特币和区块链越来越火，他反而完全隐身了，既不动用自己手里价值十几亿美元的比特币；也不去申请专利，甚至连诺贝尔经济学奖提名候选人时，也没能让他现身。FBI、媒体和他的崇拜者都在找他，甚至有人黑了他在讨论组里的注册邮箱，分析了他发布的所有发言和内容，最终都不了了之。

接下来我尝试从他亲自留下的为数不多的信息和资料中，为这位神秘人物提供更丰富的profile。

#### 2.生日信息

中本聪在发布比特币白皮书的网站「P2P Foundation」上注册的生日是1975年4月5日。对于一个精通密码学的人才，这个信息当然不是真的，但是肯定也不是随便填的。

<img src="https://taylor-blog-1252438081.cos.ap-shanghai.myqcloud.com/img/image-20210906162947034.png" alt="image-20210906162947034" style="zoom:50%;" />

在1933年的这一天，美国总统富兰克林 · 罗斯福签署了政府法令6102以对抗大萧条，该法令规定所有美国公民持有黄金都是非法的，没收美国人的黄金，并以美元交换，让美元贬值了40%；也就是说政府洗劫了美国人40%的财富。而在1975年的同一天，福特总统签署“黄金合法化”法案，美国人可以再一次合法地拥有黄金。

这两个数字撞在一起实在太蹊跷，让人怀疑这是一个政治隐喻，透露给关心这些细节并能理解的特殊人群，比如那些密码朋克们。

#### 3.写作风格和性格

与密码朋克的文章相比，比特币创世论文的语言显得格外冷静和去政治化，更像是学术界的大牛。

> 他曾在论坛抱怨：
>
> ​		“向普通读者描述比特币真是‘bloody hard’（该死地困难）。”

 在应对比特股创始人拜特·马斯特（Byte Master）diss 比特币处理交易效率低的时候，中本聪曾在论坛这样解释：

> ​		将来用户只需运行轻节点，只交易，不挖矿，处理区块的节点将是矿场部署的大型服务器。

最后，他无奈地说：

> ​		“如果你没有理解我的意思，我没时间说服你。”

在心底，恐怕他又吐槽一遍“bloody hard”吧。

在全球金融危机时，中本聪将他的怀疑和愤怒集中在了银行机构上，但是与使用生日密码挖苦美国政府一样，他不动声色地幽默化了英国财政大臣达林一把，在创世区块里写道：“当时正是英国财政大臣第二次出手疏解银行危机之时”。将财政达成左支右绌的窘态永久地记录在了区块链上。

<img src="https://taylor-blog-1252438081.cos.ap-shanghai.myqcloud.com/img/image-20210906162453991.png" alt="image-20210906162453991" style="zoom:67%;" />

我想，他一定也与历史上的那些天才一样，是一个有着怪异性格的天才（比如图灵、福尔摩斯）

<img src="https://taylor-blog-1252438081.cos.ap-shanghai.myqcloud.com/img/image-20210906163431753.png" alt="image-20210906163431753" style="zoom:50%;" />



#### 4.中本聪为何不愿露面？

要知道，创世块的50个币，是中本聪挖出来的，上面记录着他的**数字签名**（唯一性、不可抵赖性）。只要利用他自己挖出来的比特币上的数字签名（私钥）向所有节点发送一封密信即可，如果其他人能利用他的公钥解密信息，那就证明了他的身份。

可惜，无论是名利场，抑或是天价的比特币，都未引他献身。对此，可爱的知乎网友有不少有趣的猜测：

①知乎网友A：

> 目前没人知道谁是中本聪。
>
> 唯一可以确认的，中本聪要么真的是智商高的离谱的天才，要么是一个顶级团队，要么是外星人。

②知乎网友B：

> 中本聪之所以不花比特币，也不暴露身份，是因为**大佬把私钥弄丢了**……
>
> “……实际上大量早期比特币持有者都弄丢了自己的私钥，其中也包括我，谁也没觉得那东西有前途……当年中本聪为了测试比特币，租了一堆服务器想试试这网络能不能跑起来；后来，这几十台服务器挖了很久的矿然后被回收了……”

③知乎网友C：

> 对那些追求一个更公平的世界的人来说：**我们都是中本聪**。

我认为，中本聪之所以一直没有露面，一直不花手上价值十几亿美元的比特币的原因可能有以下几种可能性：

​	也许现实中他是一个身处权力中心的人，无法暴露身份（很难挑战中心化的运行机制）；

​	也有可能，现实世界中他已实现名利双收，开始追求改变世界的理想（因此在比特币和区块链完全火爆之后，他发布了一个帖子宣告隐退，说自己已经开始关注其他的东西）。

## 二、维塔利克眼中的中本聪

俄罗斯的天才少年维塔利克·布特因（Vitalik Buterin）也许是真正读懂中本聪代码的为数不多的人之一，中本聪在2008年发布比特币白皮书的时候，维塔利克才13岁，所以他俩其实没有在论坛上交流过。维塔利克受到区块链技术的启发，将其结合智能合约，构思了一个叫以太坊的项目，即区块链2.0。

维塔利克说，中本聪在比特币的代码中埋下的**三个“彩蛋”**，后来被证明都是对的：

1）比特币使用公钥的哈希作为地址，带来了不必要的复杂度和浪费。但事实上，这是深思远虑的未雨绸缪，因为**这种运算机制可以让比特币完全免受量子计算机的威胁**；

2）比特币总量2100万的限制，或者说是2的50.899次方，这是一台计算机里面能以标准整数形式存放的最大整数，超过那个值的话，数值将像里程表那样归零；

3）选择了正确的椭圆曲线（一种加密技术），成功绕开了美国国家安全局（ National Security Agency，NSA）居心叵测的陷阱；当时密码学界发明的各种加密算法，都在NSA的严密监控之内，全世界只有极少数程序躲过了这一漏洞，比特币就是其中之一。

维塔利克并不认为中本聪天才地设计了这一切，他说：“*这些设计带来更好结果的原因可能连中本聪自己都没想到过*。”他认为中本聪是**蒙对的**，甚至指出中本聪作为一个老派 C++ 程序员，**编程水平并不高明，但运气不错**。

2014年，他发起以太坊项目，有意思的是，在2014年他发起的以太坊项目中，以加密货币先驱的名字作为货币单位，戴伟、萨博、芬尼均名列其中，**唯独没有中本聪**。

## 三、区块链2.0：以太坊

##### 比特币区块链的缺陷——应用场景单一

区块链带来了无限的可能性，但是比特币单一的货币功能（价值流通），无法很好地满足非货币应用场景的需求，比如地契、合同、医疗记录、版权、法律合约、个人身份证件甚至公司注册流程等。

区块链技术的最大优势在于数据存储的防篡改性，因此只要能实现信息的数字化并通过网络传输，都可以插入区块链的交易中，最后以不可篡改的方式记录下来。这意味着一个**全新的、自动化的点对点交换经济**。

俄罗斯的天才少年受到区块链技术的启发，结合比特币最重要的去中心化概念，涉及了一个优化“智能合约”的新项目——以太坊。该项目与区块链1.0的最大区别就在于，它完全是一个开放的平台，支持其他人在以太坊项目基础上开发去中心化的应用程序（Dapps），就像google的安卓系统一样。维塔利克有一个远大的计划，他希望把以太坊区块链建成世界计算机，建立一个全球性的大规模的协作网络，大家都参与进来帮忙运行智能合约程序。

<img src="https://taylor-blog-1252438081.cos.ap-shanghai.myqcloud.com/img/image-20210906165907155.png" alt="image-20210906165907155" style="zoom: 50%;" />

#### 1.智能合约

1995年，密码学家和数字货币研究者尼克·萨博（Nick Szabo）提出「智能合约」的概念。

智能合约基于区块链中不可被随意篡改的数据，自动执行一些预先设定好的规则和条款（**代码**），比如基于用户真实的信息数据进行自动理赔的医疗保险。换句话说，智能合约就是一段可运行的程序或代码；只要预先设置好，符合触发条件的时候，就会自动执行该程序，进行履约，任何人都无法介入这个履约的过程。

“代码即法律”，“代码即信任” 充分体现了智能合约+区块链的本质，在商业领域，很多问题的执行依赖于信任，这使得执行变得非常的复杂，而智能合约帮助解决了这一难题。

智能合约最简单的形式就是自动售卖机，两者道理是一样的，用自动售卖机买东西，只要放入钱，选择商品，商品就会自动掉出。操作相同，结果相同。而智能合约只要有预先设定好的代码，就会一直按照代码来执行，代码相同，执行结果相同。

##### 案例：智能遗嘱

假设：父亲去世，儿子在结婚后才能获得其财产

这个交易时间需要到未来某个事件发生，或者未来某个时间点被触发才能执行合同。

​	条件一：父亲去世——系统会首先扫描一份在线死亡数据库确认父亲已经去世；

​	条件二：儿子结婚——当智能合约确认父亲死亡后，程序会设定一个交易日期，一旦通过婚姻信息在线数据库扫描到儿子登记结婚，就会自动将父亲的这笔财产转移到儿子名下。

<img src="https://taylor-blog-1252438081.cos.ap-shanghai.myqcloud.com/img/image-20210906194137012.png" alt="image-20210906194137012" style="zoom:50%;" />

智能合约不是合同，是一个计算机程序，这个计算机程序能够保证你们俩合同签完之后，谁都不能反悔和干涉，只要条件达成，这个系统会自动扫描大家商量好的一个网站，来判定谁赢谁输，自动触发支付的条款，这是区块链的 2.0。

怎样才能把传统协议变成智以合约呢?

以抵押协议来例，在抵押协议中，客户向银行做出承诺，如果届期不还钱，车辆就归银行所有。如果要把它变成智能合约，就需要把这个承诺写进计算机代码，这在智能驾驶时代是可以实现，比如通过计算机代码的设置，客户届期未按时还钱，车辆将会拒绝客户使用，反倒是将驾驶权限(如新的使用密码)发送给银行，银行转而拥有车辆的使用权。

#### 2.以太坊的运行机制

以太坊区块链的运行机制与比特币区块链的运行机制基本一致，运行在以太坊网络上的计算机会展开竞争，争夺执行去中心化应用程序上的代码指令（发行和转移数字资产等）的机会。若胜出的话，这些计算机会获得以太坊的代币以太币（Ether）作为其提供的运算成果的回报。

<img src="https://taylor-blog-1252438081.cos.ap-shanghai.myqcloud.com/img/image-20210906194524467.png" alt="image-20210906194524467" style="zoom: 50%;" />

## 四、区块链3.0

##### 公有链的缺陷

1. 交易效率低、确认时间长

   1）挖矿（计算hash）的难度系数，导致一笔交易的记录平均需要10分钟

   2）六次确认机制（需要1小时）

   这样的效率之下，无法达到现实生活中双十一的交易处理峰值

2. 能耗很高

   矿工需要耗费大量电力争夺记账权，大批参与竞争计算的矿工最终只有1个人才能脱颖而出

   有数据表明，2014年每个比特币耗费的电费是5000元，2019年每个比特币电费是10000元（比特币发放量变少，难度加大，节点增多）

3. 匿名P2P的交易方式使得政府机构无法监管

   1）洗钱

   2）武器交易

由于性能上不能支持大规模的商业应用，2018 年开始进入到区块链 3.0 的阶段。

3.0阶段在技术上并不会有太大变化和突破，更多是游戏规则上的变化，通过修正游戏规则来让公有链的缺陷最小化，比如缩小共识范围，增加节点权重（形成许可链和联盟链），从而优化性能，实现大规模的商业应用功能。

区块链3.0是价值互联网的内核。区块链能够对于每一个互联网中代表价值的信息和字节进行产权确认、计量和存储，从而实现资产在区块链上可被追踪、控制和交易。几乎可以记录任何有价值的能以代码形式进行表达的事物都可以借助区块链实现。

随着区块链技术的发展，其应用能够扩展到任何有需求的领域，包括审计公证、医疗、投票、物流等领域，进而到整个社会。区块链将从商业领域的应用走到全社会的覆盖，无论是人工智能或者物联网，又或者是公司架构和政府组织，都将以区块链为基础进行变革。

<img src="https://taylor-blog-1252438081.cos.ap-shanghai.myqcloud.com/img/image-20210906195100829.png" alt="image-20210906195100829" style="zoom:50%;" />

目前有关区块链3.0的资料较少，应用前景说法不一，有说3.0的目标就是为了在技术上和性能上支持大规模的商业应用；有的将应用范围更加扩大，拓展到了全社会，比如将3.0应用到机制和体制改革上，建立一个诚信、和谐、公平、共享的社会，感觉有点像真正的共产主义雏形。