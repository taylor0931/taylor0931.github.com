<!DOCTYPE html>
<html lang="en" dir="auto">

<head><meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="robots" content="index, follow">
<title>01｜什么是区块链？ | Taylor&#39;s Blog</title>
<meta name="keywords" content="区块链" />
<meta name="description" content="本文记录了非技术专业出身人员对区块链技术整体认知的建立过程，该系列将分为区块链概述、比特币区块链的本质、数字货币与智能合约、底层技术、应用场景与发展发向五个部分。
此文为第一部分，理解什么是区块链。
01｜如何理解区块链？ 一、官方释义  ​	区块链（Blockchain）技术是利用块链式数据结构来验证和存储数据、利用分布式节点共识算法来生成和更新数据、利用密码学的方式保证数据传输和访问的安全性、利用由自动化脚本代码组成的智能合约来编程和操作数据的一种全新的分布式基础架构与计算范式。
——《中国区块链技术与应用白皮书》（2016）
  ​	区块链是一个去中心化的分布式数据库，该数据库由一串使用密码学方法产生的数据区块有序链接而成，区块中包含有一定时间内产生的无法被篡改的数据记录信息。
​	区块中包含数据记录、当前区块根哈希（Hash）、前一区块根哈希、时间戳以及其他信息。数据记录在存储过程中，通常组织为树形式，比如默克尔树，而区块根哈希实际就是数据记录树的根节点哈希，为根据数据记录树自下而上逐步通过SHA-256等哈希算法计算得出。时间戳为区块的生成时间。其他信息包括区块签名信息、随机值等信息，也可根据具体应用场景灵活定义。
——《区块链：从数字货币到信用社会》
 无论是国家发布的白皮书，还是区块链相关的书籍，在定义区块链时使用的都是专业术语，即使挨个查询了这些术语，我仍然没有底气说我理解了这个概念。
那抛开这些专业的材料和解释，有没有一种简单的方式来理解区块链呢？
二、漫画区块链 我们先来看看下面的漫画案例：
假如某一天你因为肚子痛，跑到村里的医院去看病，忍着剧烈不适好不容易做完了一系列的检查，结果卫生所的医生告诉你这病他治不了，建议你转到市里的医院去看；
于是你吭哧吭哧的跑到了市里的三甲医院，想让医生基于村里卫生所的各项化验结果赶紧给个处方，然而市医院的医生开出，依旧是一堆要做的检查；
这样的现象非常普遍，同样的检查，去不同的医院需要重复做，即使病人带上了之前的化验结果，医生也还是要求重新跑一遍流程，既耽误患者时间，还浪费社会资源，为什么还要这么做呢？
我们将每一家医院看做是一个数据库，病人的病例信息都会上传到自家的数据库中存档。问题在于，每家医院的数据库都是相互独立、互不通气的，这就导致患者转院时需要重复做检查，这么做一方面可以减少医生误诊的风险（比如不信任别的医院检查结果），另一方面也是出于医院的病例信息收集和存储的要求。
如果将所有医院的数据库打通，实现病例信息共享，并落实好检验责任人，这样就可以避免重复性检查的发生。
好，漫画到这里就结束了，但是有几个问题它没有解释清楚。比如区块到底是什么？区块与区块之间的链路是如何产生？通过什么样的机制让区块之间链起来的？
三、进一步深挖 Q1: 怎么理解「区块」？ 按照字面意思，我们可以把「区块」想象成一个个的信封，用于存放本次获取到的数据 or 信息，每写入一次数据就会对应创建一个新的区块。
每个「区块」包含两个部分：
  head部分
记录当前区块相关的元数据，比如生成时间，上一个区块的hash值，以及当前区块的hash值等；
  body部分
记录当前区块存储的具体数据
  Q2：区块与区块之间的链接机制 利用密码学里的一种「hash算法」实现区块与区块间的链接。目前比较通用的算法之一叫 SHA256。
我们继续深入扩展，了解一下 hash 算法的具体原理
Q3：Hash 算法原理 上图的左边部分是区块的伪代码，去头去尾，我们重点看一下中间的几行hash值的计算代码。
很容易观察到 hash 值的计算仅涉及区块 head 里的数据，简单来讲，可以将 hash 值的计算改写成下方的公式： $$ blockHash = SHA256 (block.header) = SHA256 (prevBlockHash &#43;block.body&#43; Nonce) $$ 即，当前区块的 hash 值由 3 个参数决定：">
<meta name="author" content="Taylor">
<link rel="canonical" href="https://taylor0931.github.io/posts/block_chain_1/" />
<link crossorigin="anonymous" href="/assets/css/stylesheet.min.6cba0d81b5f3f42bb578d49f402ba4175aa72b43def148780b8ad714c957c6f5.css" integrity="sha256-bLoNgbXz9Cu1eNSfQCukF1qnK0Pe8Uh4C4rXFMlXxvU=" rel="preload stylesheet" as="style">
<script defer crossorigin="anonymous" src="/assets/js/highlight.min.7680afc38aa6b15ddf158a4f3780b7b1f7dde7e91d26f073e6229bb7a0793c92.js" integrity="sha256-doCvw4qmsV3fFYpPN4C3sffd5&#43;kdJvBz5iKbt6B5PJI="
    onload="hljs.initHighlightingOnLoad();"></script>
<link rel="icon" href="https://taylor0931.github.io/favicon.ico">
<link rel="icon" type="image/png" sizes="16x16" href="https://taylor0931.github.io/favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://taylor0931.github.io/favicon-32x32.png">
<link rel="apple-touch-icon" href="https://taylor0931.github.io/apple-touch-icon.png">
<link rel="mask-icon" href="https://taylor0931.github.io/safari-pinned-tab.svg">
<meta name="theme-color" content="#2e2e33">
<meta name="msapplication-TileColor" content="#2e2e33">
<meta name="generator" content="Hugo 0.86.1" />
<meta property="og:title" content="01｜什么是区块链？" />
<meta property="og:description" content="本文记录了非技术专业出身人员对区块链技术整体认知的建立过程，该系列将分为区块链概述、比特币区块链的本质、数字货币与智能合约、底层技术、应用场景与发展发向五个部分。
此文为第一部分，理解什么是区块链。
01｜如何理解区块链？ 一、官方释义  ​	区块链（Blockchain）技术是利用块链式数据结构来验证和存储数据、利用分布式节点共识算法来生成和更新数据、利用密码学的方式保证数据传输和访问的安全性、利用由自动化脚本代码组成的智能合约来编程和操作数据的一种全新的分布式基础架构与计算范式。
——《中国区块链技术与应用白皮书》（2016）
  ​	区块链是一个去中心化的分布式数据库，该数据库由一串使用密码学方法产生的数据区块有序链接而成，区块中包含有一定时间内产生的无法被篡改的数据记录信息。
​	区块中包含数据记录、当前区块根哈希（Hash）、前一区块根哈希、时间戳以及其他信息。数据记录在存储过程中，通常组织为树形式，比如默克尔树，而区块根哈希实际就是数据记录树的根节点哈希，为根据数据记录树自下而上逐步通过SHA-256等哈希算法计算得出。时间戳为区块的生成时间。其他信息包括区块签名信息、随机值等信息，也可根据具体应用场景灵活定义。
——《区块链：从数字货币到信用社会》
 无论是国家发布的白皮书，还是区块链相关的书籍，在定义区块链时使用的都是专业术语，即使挨个查询了这些术语，我仍然没有底气说我理解了这个概念。
那抛开这些专业的材料和解释，有没有一种简单的方式来理解区块链呢？
二、漫画区块链 我们先来看看下面的漫画案例：
假如某一天你因为肚子痛，跑到村里的医院去看病，忍着剧烈不适好不容易做完了一系列的检查，结果卫生所的医生告诉你这病他治不了，建议你转到市里的医院去看；
于是你吭哧吭哧的跑到了市里的三甲医院，想让医生基于村里卫生所的各项化验结果赶紧给个处方，然而市医院的医生开出，依旧是一堆要做的检查；
这样的现象非常普遍，同样的检查，去不同的医院需要重复做，即使病人带上了之前的化验结果，医生也还是要求重新跑一遍流程，既耽误患者时间，还浪费社会资源，为什么还要这么做呢？
我们将每一家医院看做是一个数据库，病人的病例信息都会上传到自家的数据库中存档。问题在于，每家医院的数据库都是相互独立、互不通气的，这就导致患者转院时需要重复做检查，这么做一方面可以减少医生误诊的风险（比如不信任别的医院检查结果），另一方面也是出于医院的病例信息收集和存储的要求。
如果将所有医院的数据库打通，实现病例信息共享，并落实好检验责任人，这样就可以避免重复性检查的发生。
好，漫画到这里就结束了，但是有几个问题它没有解释清楚。比如区块到底是什么？区块与区块之间的链路是如何产生？通过什么样的机制让区块之间链起来的？
三、进一步深挖 Q1: 怎么理解「区块」？ 按照字面意思，我们可以把「区块」想象成一个个的信封，用于存放本次获取到的数据 or 信息，每写入一次数据就会对应创建一个新的区块。
每个「区块」包含两个部分：
  head部分
记录当前区块相关的元数据，比如生成时间，上一个区块的hash值，以及当前区块的hash值等；
  body部分
记录当前区块存储的具体数据
  Q2：区块与区块之间的链接机制 利用密码学里的一种「hash算法」实现区块与区块间的链接。目前比较通用的算法之一叫 SHA256。
我们继续深入扩展，了解一下 hash 算法的具体原理
Q3：Hash 算法原理 上图的左边部分是区块的伪代码，去头去尾，我们重点看一下中间的几行hash值的计算代码。
很容易观察到 hash 值的计算仅涉及区块 head 里的数据，简单来讲，可以将 hash 值的计算改写成下方的公式： $$ blockHash = SHA256 (block.header) = SHA256 (prevBlockHash &#43;block.body&#43; Nonce) $$ 即，当前区块的 hash 值由 3 个参数决定：" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://taylor0931.github.io/posts/block_chain_1/" /><meta property="og:image" content="https://taylor0931.github.io/papermod-cover.png"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-03T12:21:50&#43;08:00" />
<meta property="article:modified_time" content="2021-08-03T12:21:50&#43;08:00" />

<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://taylor0931.github.io/papermod-cover.png"/>

<meta name="twitter:title" content="01｜什么是区块链？"/>
<meta name="twitter:description" content="本文记录了非技术专业出身人员对区块链技术整体认知的建立过程，该系列将分为区块链概述、比特币区块链的本质、数字货币与智能合约、底层技术、应用场景与发展发向五个部分。
此文为第一部分，理解什么是区块链。
01｜如何理解区块链？ 一、官方释义  ​	区块链（Blockchain）技术是利用块链式数据结构来验证和存储数据、利用分布式节点共识算法来生成和更新数据、利用密码学的方式保证数据传输和访问的安全性、利用由自动化脚本代码组成的智能合约来编程和操作数据的一种全新的分布式基础架构与计算范式。
——《中国区块链技术与应用白皮书》（2016）
  ​	区块链是一个去中心化的分布式数据库，该数据库由一串使用密码学方法产生的数据区块有序链接而成，区块中包含有一定时间内产生的无法被篡改的数据记录信息。
​	区块中包含数据记录、当前区块根哈希（Hash）、前一区块根哈希、时间戳以及其他信息。数据记录在存储过程中，通常组织为树形式，比如默克尔树，而区块根哈希实际就是数据记录树的根节点哈希，为根据数据记录树自下而上逐步通过SHA-256等哈希算法计算得出。时间戳为区块的生成时间。其他信息包括区块签名信息、随机值等信息，也可根据具体应用场景灵活定义。
——《区块链：从数字货币到信用社会》
 无论是国家发布的白皮书，还是区块链相关的书籍，在定义区块链时使用的都是专业术语，即使挨个查询了这些术语，我仍然没有底气说我理解了这个概念。
那抛开这些专业的材料和解释，有没有一种简单的方式来理解区块链呢？
二、漫画区块链 我们先来看看下面的漫画案例：
假如某一天你因为肚子痛，跑到村里的医院去看病，忍着剧烈不适好不容易做完了一系列的检查，结果卫生所的医生告诉你这病他治不了，建议你转到市里的医院去看；
于是你吭哧吭哧的跑到了市里的三甲医院，想让医生基于村里卫生所的各项化验结果赶紧给个处方，然而市医院的医生开出，依旧是一堆要做的检查；
这样的现象非常普遍，同样的检查，去不同的医院需要重复做，即使病人带上了之前的化验结果，医生也还是要求重新跑一遍流程，既耽误患者时间，还浪费社会资源，为什么还要这么做呢？
我们将每一家医院看做是一个数据库，病人的病例信息都会上传到自家的数据库中存档。问题在于，每家医院的数据库都是相互独立、互不通气的，这就导致患者转院时需要重复做检查，这么做一方面可以减少医生误诊的风险（比如不信任别的医院检查结果），另一方面也是出于医院的病例信息收集和存储的要求。
如果将所有医院的数据库打通，实现病例信息共享，并落实好检验责任人，这样就可以避免重复性检查的发生。
好，漫画到这里就结束了，但是有几个问题它没有解释清楚。比如区块到底是什么？区块与区块之间的链路是如何产生？通过什么样的机制让区块之间链起来的？
三、进一步深挖 Q1: 怎么理解「区块」？ 按照字面意思，我们可以把「区块」想象成一个个的信封，用于存放本次获取到的数据 or 信息，每写入一次数据就会对应创建一个新的区块。
每个「区块」包含两个部分：
  head部分
记录当前区块相关的元数据，比如生成时间，上一个区块的hash值，以及当前区块的hash值等；
  body部分
记录当前区块存储的具体数据
  Q2：区块与区块之间的链接机制 利用密码学里的一种「hash算法」实现区块与区块间的链接。目前比较通用的算法之一叫 SHA256。
我们继续深入扩展，了解一下 hash 算法的具体原理
Q3：Hash 算法原理 上图的左边部分是区块的伪代码，去头去尾，我们重点看一下中间的几行hash值的计算代码。
很容易观察到 hash 值的计算仅涉及区块 head 里的数据，简单来讲，可以将 hash 值的计算改写成下方的公式： $$ blockHash = SHA256 (block.header) = SHA256 (prevBlockHash &#43;block.body&#43; Nonce) $$ 即，当前区块的 hash 值由 3 个参数决定："/>


<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [, 
    {
      "@type": "ListItem",
      "position":  2 ,
      "name": "Posts",
      "item": "https://taylor0931.github.io/posts/"
    }, 
    {
      "@type": "ListItem",
      "position":  3 ,
      "name": "01｜什么是区块链？",
      "item": "https://taylor0931.github.io/posts/block_chain_1/"
    }
  ]
}
</script>
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BlogPosting",
  "headline": "01｜什么是区块链？",
  "name": "01｜什么是区块链？",
  "description": "本文记录了非技术专业出身人员对区块链技术整体认知的建立过程，该系列将分为区块链概述、比特币区块链的本质、数字货币与智能合约、底层技术、应用场景与发展发向五个部分。\n此文为第一部分，理解什么是区块链。\n01｜如何理解区块链？ 一、官方释义  ​\t区块链（Blockchain）技术是利用块链式数据结构来验证和存储数据、利用分布式节点共识算法来生成和更新数据、利用密码学的方式保证数据传输和访问的安全性、利用由自动化脚本代码组成的智能合约来编程和操作数据的一种全新的分布式基础架构与计算范式。\n——《中国区块链技术与应用白皮书》（2016）\n  ​\t区块链是一个去中心化的分布式数据库，该数据库由一串使用密码学方法产生的数据区块有序链接而成，区块中包含有一定时间内产生的无法被篡改的数据记录信息。\n​\t区块中包含数据记录、当前区块根哈希（Hash）、前一区块根哈希、时间戳以及其他信息。数据记录在存储过程中，通常组织为树形式，比如默克尔树，而区块根哈希实际就是数据记录树的根节点哈希，为根据数据记录树自下而上逐步通过SHA-256等哈希算法计算得出。时间戳为区块的生成时间。其他信息包括区块签名信息、随机值等信息，也可根据具体应用场景灵活定义。\n——《区块链：从数字货币到信用社会》\n 无论是国家发布的白皮书，还是区块链相关的书籍，在定义区块链时使用的都是专业术语，即使挨个查询了这些术语，我仍然没有底气说我理解了这个概念。\n那抛开这些专业的材料和解释，有没有一种简单的方式来理解区块链呢？\n二、漫画区块链 我们先来看看下面的漫画案例：\n假如某一天你因为肚子痛，跑到村里的医院去看病，忍着剧烈不适好不容易做完了一系列的检查，结果卫生所的医生告诉你这病他治不了，建议你转到市里的医院去看；\n于是你吭哧吭哧的跑到了市里的三甲医院，想让医生基于村里卫生所的各项化验结果赶紧给个处方，然而市医院的医生开出，依旧是一堆要做的检查；\n这样的现象非常普遍，同样的检查，去不同的医院需要重复做，即使病人带上了之前的化验结果，医生也还是要求重新跑一遍流程，既耽误患者时间，还浪费社会资源，为什么还要这么做呢？\n我们将每一家医院看做是一个数据库，病人的病例信息都会上传到自家的数据库中存档。问题在于，每家医院的数据库都是相互独立、互不通气的，这就导致患者转院时需要重复做检查，这么做一方面可以减少医生误诊的风险（比如不信任别的医院检查结果），另一方面也是出于医院的病例信息收集和存储的要求。\n如果将所有医院的数据库打通，实现病例信息共享，并落实好检验责任人，这样就可以避免重复性检查的发生。\n好，漫画到这里就结束了，但是有几个问题它没有解释清楚。比如区块到底是什么？区块与区块之间的链路是如何产生？通过什么样的机制让区块之间链起来的？\n三、进一步深挖 Q1: 怎么理解「区块」？ 按照字面意思，我们可以把「区块」想象成一个个的信封，用于存放本次获取到的数据 or 信息，每写入一次数据就会对应创建一个新的区块。\n每个「区块」包含两个部分：\n  head部分\n记录当前区块相关的元数据，比如生成时间，上一个区块的hash值，以及当前区块的hash值等；\n  body部分\n记录当前区块存储的具体数据\n  Q2：区块与区块之间的链接机制 利用密码学里的一种「hash算法」实现区块与区块间的链接。目前比较通用的算法之一叫 SHA256。\n我们继续深入扩展，了解一下 hash 算法的具体原理\nQ3：Hash 算法原理 上图的左边部分是区块的伪代码，去头去尾，我们重点看一下中间的几行hash值的计算代码。\n很容易观察到 hash 值的计算仅涉及区块 head 里的数据，简单来讲，可以将 hash 值的计算改写成下方的公式： $$ blockHash = SHA256 (block.header) = SHA256 (prevBlockHash +block.body+ Nonce) $$ 即，当前区块的 hash 值由 3 个参数决定：",
  "keywords": [
    "区块链"
  ],
  "articleBody": "本文记录了非技术专业出身人员对区块链技术整体认知的建立过程，该系列将分为区块链概述、比特币区块链的本质、数字货币与智能合约、底层技术、应用场景与发展发向五个部分。\n此文为第一部分，理解什么是区块链。\n01｜如何理解区块链？ 一、官方释义  ​\t区块链（Blockchain）技术是利用块链式数据结构来验证和存储数据、利用分布式节点共识算法来生成和更新数据、利用密码学的方式保证数据传输和访问的安全性、利用由自动化脚本代码组成的智能合约来编程和操作数据的一种全新的分布式基础架构与计算范式。\n——《中国区块链技术与应用白皮书》（2016）\n  ​\t区块链是一个去中心化的分布式数据库，该数据库由一串使用密码学方法产生的数据区块有序链接而成，区块中包含有一定时间内产生的无法被篡改的数据记录信息。\n​\t区块中包含数据记录、当前区块根哈希（Hash）、前一区块根哈希、时间戳以及其他信息。数据记录在存储过程中，通常组织为树形式，比如默克尔树，而区块根哈希实际就是数据记录树的根节点哈希，为根据数据记录树自下而上逐步通过SHA-256等哈希算法计算得出。时间戳为区块的生成时间。其他信息包括区块签名信息、随机值等信息，也可根据具体应用场景灵活定义。\n——《区块链：从数字货币到信用社会》\n 无论是国家发布的白皮书，还是区块链相关的书籍，在定义区块链时使用的都是专业术语，即使挨个查询了这些术语，我仍然没有底气说我理解了这个概念。\n那抛开这些专业的材料和解释，有没有一种简单的方式来理解区块链呢？\n二、漫画区块链 我们先来看看下面的漫画案例：\n假如某一天你因为肚子痛，跑到村里的医院去看病，忍着剧烈不适好不容易做完了一系列的检查，结果卫生所的医生告诉你这病他治不了，建议你转到市里的医院去看；\n于是你吭哧吭哧的跑到了市里的三甲医院，想让医生基于村里卫生所的各项化验结果赶紧给个处方，然而市医院的医生开出，依旧是一堆要做的检查；\n这样的现象非常普遍，同样的检查，去不同的医院需要重复做，即使病人带上了之前的化验结果，医生也还是要求重新跑一遍流程，既耽误患者时间，还浪费社会资源，为什么还要这么做呢？\n我们将每一家医院看做是一个数据库，病人的病例信息都会上传到自家的数据库中存档。问题在于，每家医院的数据库都是相互独立、互不通气的，这就导致患者转院时需要重复做检查，这么做一方面可以减少医生误诊的风险（比如不信任别的医院检查结果），另一方面也是出于医院的病例信息收集和存储的要求。\n如果将所有医院的数据库打通，实现病例信息共享，并落实好检验责任人，这样就可以避免重复性检查的发生。\n好，漫画到这里就结束了，但是有几个问题它没有解释清楚。比如区块到底是什么？区块与区块之间的链路是如何产生？通过什么样的机制让区块之间链起来的？\n三、进一步深挖 Q1: 怎么理解「区块」？ 按照字面意思，我们可以把「区块」想象成一个个的信封，用于存放本次获取到的数据 or 信息，每写入一次数据就会对应创建一个新的区块。\n每个「区块」包含两个部分：\n  head部分\n记录当前区块相关的元数据，比如生成时间，上一个区块的hash值，以及当前区块的hash值等；\n  body部分\n记录当前区块存储的具体数据\n  Q2：区块与区块之间的链接机制 利用密码学里的一种「hash算法」实现区块与区块间的链接。目前比较通用的算法之一叫 SHA256。\n我们继续深入扩展，了解一下 hash 算法的具体原理\nQ3：Hash 算法原理 上图的左边部分是区块的伪代码，去头去尾，我们重点看一下中间的几行hash值的计算代码。\n很容易观察到 hash 值的计算仅涉及区块 head 里的数据，简单来讲，可以将 hash 值的计算改写成下方的公式： $$ blockHash = SHA256 (block.header) = SHA256 (prevBlockHash +block.body+ Nonce) $$ 即，当前区块的 hash 值由 3 个参数决定：\n  上一个区块的hash值；\n  当前区块体的特征值；\n  Nonce随机项\nPs. 之所以设置Nonce这个常量，涉及到中本聪设计比特币时的规则机制，因此Nonce值和difficlty（难度系数）将在第二部分数字货币里详细介绍，此处暂时跳过\n  最终，得到一个256位的二进制数字，即hash值。\n通过上述这样一种逻辑关系，让所有区块之间串起来了，这种逻辑傻姑娘的联动机制意味着，当某个区块内容变动时，会导致一系列的联动效应（蝴蝶效应）。因为当一个区块内存储的信息被更改后，其hash值一定会发生改变，进而引起上下游区块hash值的一连串变动。\n然而hash值的计算十分耗时，链条越长，对算力的要求就越高。这就使得在实际操作过程中，某个区块的数据更改概率几乎为0，换句话说，存储在区块链中的数据天然无法被篡改，只能不断append（添加）数据。\n小结：区块链是某种特别 Niubility 的数据库 $$ 区块链 = 某种特别 Niubility 的数据库 $$\n简单来讲，区块链就是一种存储数据的数据库，但由于技术设计的原因，导致它与普通的关系型数据库有所不同。\n区块链 vs. 普通关系型数据库\n  普通关系型数据库—— read \u0026 write 模式\n其控制权掌握在所有者（admin）手里，掌握权力的人（admin）可以对其进行篡改而不被其他利益相关者所知\n  区块链—— read \u0026 append only 模式\n由于hash的计算难度，导致区块内部数据的更改可能性几乎为零，所以区块链存储的数据都是真实有效的（无法被篡改），只能不断append（添加）数据记录；\n意味着：在区块链里，围绕每一个对象的每一次的操作都会被记录（append），无论什么操作都能回溯到责任人\n  Q4：各个区块串联起来后，全量数据又是如何存储和备份的？ 我们接着深入\n当各个医院内部数据、医院与医院之间的数据都通过区块链串联起来，理论上来说，每家医院都拥有了所有医院都全量数据，但全国人民都病例信息非常庞大，如果每家医院都购买服务器保存一份全量信息的副本，成本巨大，不仅不经济，也不现实。这就涉及到另一个专业术语——「分布式存储」。\n分布式存储到方式很多，这里仅介绍最简单的一种，如下图所示。\n图中的每一台机器都可视作某个网民联网后的 PC，这些 PC 都与一台总服务器相连接，这个总服务器我们可以理解为“上帝”，它负责与其他电脑联络。假设目前机器 N 有 100 个 T 的数据要存储，具体过程如下：\n​\t1）机器A向总服务器发送请求：“呼叫老大，我现在需要 100 个 T 的存储空间”；\n​\t2）服务器接到请求后，会与目前联网的所有PC联络：“总台呼叫，请各位汇报当前是否有空余存储空间？可用空间是多少？”\n​\t3）各个联网的PC进行回复，然后总服务器汇总，并将可存储的设备列表返回给机器 N；\n​\t4）机器 N 拿到总服务器返回的可存储列表之后，根据列表上的设备名单和存储空间将这100个T的数据进行切分，向具体设备分发需要存储的“数据块”，如下图所示。\n​\t5）为了数据的安全性、一致性和完整性，每个数据块都需要进行备份，一般都会选择其他设备来存储副本；\n​\t6）切分、存储和备份工作完成后，机器 N 需要将这 100 个 T 的元数据发送给总服务器进行存储；此时我们可以将总服务器视为一个索引服务器，负责存储种子元数据，通过它可以找到100T的全量数据。\n​\t例如之前下载电影时遇到的“BT种子”、“迅雷种子”等，就是这部电影的元数据，包含它的名称，大小，分为几个数据块，分别存在哪里，存储的顺序是什么；下载的时候，先把种子元数据下载好后，再依次按照各个设备的存储顺序下载，最后进行拼接，下载完成。\n这种分布式存储真正实现了“你有我有全都有”的状态，医院想要这100T的数据的时候，通过索引服务器拉下来，再拼接就好了。\nQ5：数据有任何的改动时，是如何确保分布式存储中数据的一致性的？ 分布式存储和备份后，数据有任何改动，又是如何保证数据一致性的呢？\n这里要介绍一个用来描述分布式系统一致性问题（Distributed Consensus）的案例——「拜占庭将军问题」\n该案例是Leslie Lamport（2013 年的图灵奖得主）在论文中抽象出来的著名案例，本质上阐述的是通信过程中由于消息丢失，或是传输错误导致的信息不一致问题。\n对于这一问题，网上文章描述的相对复杂，涉及的节点也较多，为了清晰理解，我将将军和副将的阵容最简化，精简为三个人的模型，如下图所示。\n假设现在需要攻打临近的一个国家，将军A在大本营坐镇，发号施令。前方由他的两个副将带领军队进行攻击。将军和副官3人里都有可能出现叛徒，只要在信息传输上保证三人达成一致共识——进攻邻国，这场战争就能取得胜利。\n假设副官 B 是叛徒，那么将军下达“进攻”命令时，副官 B 会向副官 C 谎报收到的命令，这个时候 C 会因为自己收到消息与副官 B 的不一致而一脸懵逼。\n假设将军 A 是叛徒，那他在向两位副官下发命令的时候，就会发送两个不一样的版本，副官 B 和副官 C 在相互核对时，发现拿到的情报不一致，两脸懵逼。\n那么该如何保证大家达成一致共识呢？\n  方案一：口头信息传输\n在原始时代，交通条件和技术条件都很落后，基本是「出行靠走，通讯靠吼」，因此收信方在拿到上一节点传输的消息之后，两两对比，根据少数服从多数的原则，遵从多数人收到的命令即可；\n但这个方案有弊端，当叛徒数量=1/3时，这个方法会失效。\n    方案二：书面信息传输（盖章）\n这里先介绍一下加密传输的两种方式：\n​\t1）对称加密：指的是两个人事先约定好，123=ABC；只要拿到密码本，就可以破解机密信息（类似一战二战时的信息加密方式）\n​\t2）非对称加密：即每个人有两把钥匙，一把公钥，一把私钥，公钥广而告之、大家都有，私钥只有自己有；\n本方案里用到的加密方式是非对称的形式。将军 A 在传输“进攻”消息时，通过自己的私钥进行加密；副将 B 和 C 在收到信函之后需要利用将军 A 的公钥打开，且只要能成功打开，即验证了将军 A 的真实身份。\n副将 B 和 C 在打开成功后，还需要盖章批阅，类似“我同意进攻”的形式继续下发消息，比如与C之间通信；如果B是叛徒，由于一份文件上需要包含所有经手人的章，他是无法在盖上将军 A 印章的文书上伪造“撤退”消息的，因而保证了信息传输的一致性；\n假设将军 A 是叛徒，他用私钥加密信息，向副将 B 传输“进攻”消息，向副将 C 传输“撤退”消息；由于要打开信函一定会用到将军A的真实公钥，所以B和C在确认将军真实身份的情况下，发现信息不一致，立刻就能识别出将军的叛徒身份。此时副将 B 和 C 将自行判断是进攻还是撤退，两者达成一致后实施，将军 A 的意见将被忽略\n  这就是中本聪在设计比特币和区块链时的思路。\n小结：hash链 + 分布式 = 区块链 通过第二阶段的深挖，我们对区块链技术有了更深刻的理解。\n个人认为，从技术角度，区块链可以表达为上述等式，即： $$ 区块链 = hash link + 分布式存储（共识问题） $$ 这就是最原始的区块链版本。\n在这样的链条里，每个节点都是平等的，都能参与通信，也就是所谓的公有链。但也正因为如此，当一个决策发布时，需要得到网络中超过51%的节点同意（少数服从多数），才能得以通过，因此效率十分低下。当然这中间还有 hash 值计算量大的原因，这一点会在下一节挖矿部分深挖。\n另外，所有节点的权重都一样，这对于一项决议的通过是不科学的，因为精英阶层的意见可能比平民阶层更重要。基于此，发展出了另外一种类型的区块链——联盟链。\n四、区块链的类型 4.1 公有链（原始版本） 公有链即上方介绍的原始版本，具有以下特征：\n 去中心化  任何人都可以读取 任何人都可以通信 任何人都可以参与    简单来讲，无论是个人、企业还是联盟在链条里都平等（权重一致），都能收到和发送相关信息\n4.2 联盟链（consortium blockchains) 属于许可链（permission blockchains)中的一种，可以理解为行业范围内的区块链； $$ 邀请机制+角色权限（权重）=联盟链 $$ 特征：\n  只有被验证的成员才能加入链条（邀请机制，我国的数字货币使用的是这一类型的区块链），不同节点有不同的角色和分工，对应不同的权限\n  部分去中心化\n从系统外部来看，整个联盟就是一个中心；\n但是从系统内部看，各个节点之间还是去中心化的，因为即使不同节点权重不同，在现实情况中也很难达到51%以上的情况\n  4.3 私有链 属于许可链（permission blockchains)中的一种，可以理解为小范围系统内部的区块链，比如企业内部的跨部门授权区块链；\n本质上联盟链也是私有链的一种；因为公有链可以看做是地球上的私有链，因为只有地球人的电脑系统才可以接入；\n私有链与联盟链在效率和速度上非常有优势；且可以不用设置token机制（公有链需要token机制作为激励机制，比如比特币）\n参考资料 part 1. 政府相关文件\n1.中国区块链技术和产业发展论坛，《中国区块链技术与应用发展白皮书》，2016-10-18.\n2.任仲文编，《区块链领导干部读本》，人民日报出版社，2018.\npart 2. 参考书籍\n1.[美] William Mougayar，《商业区块链：开启加密经济时代》，中信出版社，2016.\n2.韦康博，《解读区块链：重新定义未来经济》，人民邮电出版社，2017.\n3.吴为，《区块链实战》，清华大学出版社，2017.\n4.[美] 阿尔文德·纳拉亚南等，《区块链：技术驱动金融》，中信出版社，2016.\n5.张健，《区块链：定义未来金融与经济格局》，机械工业出版社，2016.\n6.长铗、韩锋等，《区块链，从数字货币到信用社会》，2016.\n7.徐明星、刘勇、段新星、郭大治，《区块链，重塑经济与世界》，中信出版社，2016.\npart 3. 网络课程\n1.朱嘉伟，「从0到1，全面学透区块链」，MOOC.\n2.Tiny，「区块链技术核心概念与原理讲解」，慕课网.\npart 4. 社区论坛\n1.慕课网—「手记」栏目–「区块链」专栏，https://www.imooc.com/article/blockchain\n2.知乎相关专栏\u0026问答， https://www.zhihu.com/\n3.相关blog\n4.公众号相关文章\n",
  "wordCount" : "292",
  "inLanguage": "en",
  "datePublished": "2021-08-03T12:21:50+08:00",
  "dateModified": "2021-08-03T12:21:50+08:00",
  "author":{
    "@type": "Person",
    "name": "Taylor"
  },
  "mainEntityOfPage": {
    "@type": "WebPage",
    "@id": "https://taylor0931.github.io/posts/block_chain_1/"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Taylor's Blog",
    "logo": {
      "@type": "ImageObject",
      "url": "https://taylor0931.github.io/favicon.ico"
    }
  }
}
</script>
</head>

<body class="" id="top">
<script>
    if (localStorage.getItem("pref-theme") === "dark") {
        document.body.classList.add('dark');
    } else if (localStorage.getItem("pref-theme") === "light") {
        document.body.classList.remove('dark')
    } else if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
        document.body.classList.add('dark');
    }

</script>
<noscript>
    <style type="text/css">
        #theme-toggle,
        .top-link {
            display: none;
        }

    </style>
    <style>
        @media (prefers-color-scheme: dark) {
            :root {
                --theme: #1d1e20;
                --entry: #2e2e33;
                --primary: rgba(255, 255, 255, 0.84);
                --secondary: rgba(255, 255, 255, 0.56);
                --tertiary: rgba(255, 255, 255, 0.16);
                --content: rgba(255, 255, 255, 0.74);
                --hljs-bg: #2e2e33;
                --code-bg: #37383e;
                --border: #333;
            }

            .list {
                background: var(--theme);
            }

            .list:not(.dark)::-webkit-scrollbar-track {
                background: 0 0;
            }

            .list:not(.dark)::-webkit-scrollbar-thumb {
                border-color: var(--theme);
            }
        }

    </style>
</noscript>

<header class="header">
    <nav class="nav">
        <div class="logo">
            <a href="https://taylor0931.github.io" accesskey="h" title="Taylor&#39;s Blog (Alt + H)">Taylor&#39;s Blog</a>
            <span class="logo-switches">
                <button id="theme-toggle" accesskey="t" title="(Alt + T)">
                    <svg id="moon" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sun" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24"
                        fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                        stroke-linejoin="round">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </span>
        </div>
        <ul id="menu">
            <li>
                <a href="https://taylor0931.github.io/archives" title="Archives">
                    <span>Archives</span>
                </a>
            </li>
            <li>
                <a href="https://taylor0931.github.io/categories" title="Categories">
                    <span>Categories</span>
                </a>
            </li>
            <li>
                <a href="https://taylor0931.github.io/tags" title="Tags">
                    <span>Tags</span>
                </a>
            </li>
        </ul>
    </nav>
</header>
<main class="main">

<article class="post-single">
  <header class="post-header">
    <div class="breadcrumbs"><a href="https://taylor0931.github.io">Home</a>&nbsp;»&nbsp;<a href="https://taylor0931.github.io/posts/">Posts</a></div>
    <h1 class="post-title">
      01｜什么是区块链？
    </h1>
    <div class="post-meta">August 3, 2021&nbsp;·&nbsp;2 min&nbsp;·&nbsp;Taylor&nbsp;|&nbsp;<a href="https://github.com/adityatelange/hugo-PaperMod/tree/exampleSite/content/posts/block_chain_1.md" rel="noopener noreferrer" target="_blank">Suggest Changes</a>
</div>
  </header> <div class="toc">
    <details >
        <summary accesskey="c" title="(Alt + C)">
            <div class="details">Table of Contents</div>
        </summary>
        <div class="inner"><ul>
                <li>
                    <a href="#01%e5%a6%82%e4%bd%95%e7%90%86%e8%a7%a3%e5%8c%ba%e5%9d%97%e9%93%be" aria-label="01｜如何理解区块链？">01｜如何理解区块链？</a><ul>
                        
                <li>
                    <a href="#%e4%b8%80%e5%ae%98%e6%96%b9%e9%87%8a%e4%b9%89" aria-label="一、官方释义">一、官方释义</a></li>
                <li>
                    <a href="#%e4%ba%8c%e6%bc%ab%e7%94%bb%e5%8c%ba%e5%9d%97%e9%93%be" aria-label="二、漫画区块链">二、漫画区块链</a></li>
                <li>
                    <a href="#%e4%b8%89%e8%bf%9b%e4%b8%80%e6%ad%a5%e6%b7%b1%e6%8c%96" aria-label="三、进一步深挖">三、进一步深挖</a><ul>
                        <ul>
                        
                <li>
                    <a href="#q1-%e6%80%8e%e4%b9%88%e7%90%86%e8%a7%a3%e5%8c%ba%e5%9d%97" aria-label="Q1: 怎么理解「区块」？">Q1: 怎么理解「区块」？</a></li>
                <li>
                    <a href="#q2%e5%8c%ba%e5%9d%97%e4%b8%8e%e5%8c%ba%e5%9d%97%e4%b9%8b%e9%97%b4%e7%9a%84%e9%93%be%e6%8e%a5%e6%9c%ba%e5%88%b6" aria-label="Q2：区块与区块之间的链接机制">Q2：区块与区块之间的链接机制</a></li>
                <li>
                    <a href="#q3hash-%e7%ae%97%e6%b3%95%e5%8e%9f%e7%90%86" aria-label="Q3：Hash 算法原理">Q3：Hash 算法原理</a></li>
                <li>
                    <a href="#%e5%b0%8f%e7%bb%93%e5%8c%ba%e5%9d%97%e9%93%be%e6%98%af%e6%9f%90%e7%a7%8d%e7%89%b9%e5%88%ab-niubility-%e7%9a%84%e6%95%b0%e6%8d%ae%e5%ba%93" aria-label="小结：区块链是某种特别 Niubility 的数据库">小结：区块链是某种特别 Niubility 的数据库</a></li>
                <li>
                    <a href="#q4%e5%90%84%e4%b8%aa%e5%8c%ba%e5%9d%97%e4%b8%b2%e8%81%94%e8%b5%b7%e6%9d%a5%e5%90%8e%e5%85%a8%e9%87%8f%e6%95%b0%e6%8d%ae%e5%8f%88%e6%98%af%e5%a6%82%e4%bd%95%e5%ad%98%e5%82%a8%e5%92%8c%e5%a4%87%e4%bb%bd%e7%9a%84" aria-label="Q4：各个区块串联起来后，全量数据又是如何存储和备份的？">Q4：各个区块串联起来后，全量数据又是如何存储和备份的？</a></li>
                <li>
                    <a href="#q5%e6%95%b0%e6%8d%ae%e6%9c%89%e4%bb%bb%e4%bd%95%e7%9a%84%e6%94%b9%e5%8a%a8%e6%97%b6%e6%98%af%e5%a6%82%e4%bd%95%e7%a1%ae%e4%bf%9d%e5%88%86%e5%b8%83%e5%bc%8f%e5%ad%98%e5%82%a8%e4%b8%ad%e6%95%b0%e6%8d%ae%e7%9a%84%e4%b8%80%e8%87%b4%e6%80%a7%e7%9a%84" aria-label="Q5：数据有任何的改动时，是如何确保分布式存储中数据的一致性的？">Q5：数据有任何的改动时，是如何确保分布式存储中数据的一致性的？</a></li>
                <li>
                    <a href="#%e5%b0%8f%e7%bb%93hash%e9%93%be--%e5%88%86%e5%b8%83%e5%bc%8f--%e5%8c%ba%e5%9d%97%e9%93%be" aria-label="小结：hash链 &#43; 分布式 = 区块链">小结：hash链 + 分布式 = 区块链</a></li></ul>
                    </ul>
                </li>
                <li>
                    <a href="#%e5%9b%9b%e5%8c%ba%e5%9d%97%e9%93%be%e7%9a%84%e7%b1%bb%e5%9e%8b" aria-label="四、区块链的类型">四、区块链的类型</a><ul>
                        <ul>
                        
                <li>
                    <a href="#41-%e5%85%ac%e6%9c%89%e9%93%be%e5%8e%9f%e5%a7%8b%e7%89%88%e6%9c%ac" aria-label="4.1 公有链（原始版本）">4.1 公有链（原始版本）</a></li>
                <li>
                    <a href="#42-%e8%81%94%e7%9b%9f%e9%93%beconsortium-blockchains" aria-label="4.2 联盟链（consortium blockchains)">4.2 联盟链（consortium blockchains)</a></li>
                <li>
                    <a href="#43-%e7%a7%81%e6%9c%89%e9%93%be" aria-label="4.3 私有链">4.3 私有链</a></li>
                <li>
                    <a href="#%e5%8f%82%e8%80%83%e8%b5%84%e6%96%99" aria-label="参考资料"><em>参考资料</em></a>
                </li>
            </ul>
            </li>
            </ul>
            </ul>
            </li>
            </ul>
        </div>
    </details>
</div>

  <div class="post-content"><p>本文记录了非技术专业出身人员对区块链技术整体认知的建立过程，该系列将分为区块链概述、比特币区块链的本质、数字货币与智能合约、底层技术、应用场景与发展发向五个部分。</p>
<p>此文为第一部分，理解什么是区块链。</p>
<h1 id="01如何理解区块链">01｜如何理解区块链？<a hidden class="anchor" aria-hidden="true" href="#01如何理解区块链">#</a></h1>
<h2 id="一官方释义">一、官方释义<a hidden class="anchor" aria-hidden="true" href="#一官方释义">#</a></h2>
<blockquote>
<p>​	区块链（Blockchain）技术是利用<strong>块链式数据结构</strong>来验证和存储数据、利用<strong>分布式节点共识算法</strong>来生成和更新数据、利用<strong>密码学的方式</strong>保证数据传输和访问的安全性、利用由<strong>自动化脚本代码组成的智能合约</strong>来编程和操作数据的一种全新的分布式基础架构与计算范式。</p>
<p>——《中国区块链技术与应用白皮书》（2016）</p>
</blockquote>
<blockquote>
<p>​	区块链是一个<strong>去中心化</strong>的分布式数据库，该数据库由一串<strong>使用密码学方法产生的数据区块</strong>有序链接而成，区块中包含有一定时间内产生的无法被篡改的数据记录信息。</p>
<p>​	区块中包含数据记录、当前区块<strong>根哈希（Hash）</strong>、前一区块根哈希、时间戳以及其他信息。数据记录在存储过程中，通常组织为树形式，比如<strong>默克尔树</strong>，而区块根哈希实际就是数据记录树的根节点哈希，为根据数据记录树自下而上逐步通过SHA-256等<strong>哈希算法计算得出</strong>。时间戳为区块的生成时间。其他信息包括区块签名信息、随机值等信息，也可根据具体应用场景灵活定义。</p>
<p>——《区块链：从数字货币到信用社会》</p>
</blockquote>
<p><img src="../../../../../Library/Application%20Support/typora-user-images/image-20210903111349762.png" alt="image-20210903111349762" style="zoom: 33%;" /></p>
<p>无论是国家发布的白皮书，还是区块链相关的书籍，在定义区块链时使用的都是专业术语，即使挨个查询了这些术语，我仍然没有底气说我理解了这个概念。</p>
<p>那抛开这些专业的材料和解释，有没有一种简单的方式来理解区块链呢？</p>
<h2 id="二漫画区块链">二、漫画区块链<a hidden class="anchor" aria-hidden="true" href="#二漫画区块链">#</a></h2>
<p>我们先来看看下面的漫画案例：</p>
<p><img src="../../../../../Library/Application%20Support/typora-user-images/image-20210903112654144.png" alt="image-20210903112654144" style="zoom: 50%;" /></p>
<p>假如某一天你因为肚子痛，跑到村里的医院去看病，忍着剧烈不适好不容易做完了一系列的检查，结果卫生所的医生告诉你这病他治不了，建议你转到市里的医院去看；</p>
<p>于是你吭哧吭哧的跑到了市里的三甲医院，想让医生基于村里卫生所的各项化验结果赶紧给个处方，然而市医院的医生开出，依旧是一堆要做的检查；</p>
<p>这样的现象非常普遍，同样的检查，去不同的医院需要重复做，即使病人带上了之前的化验结果，医生也还是要求重新跑一遍流程，既耽误患者时间，还浪费社会资源，为什么还要这么做呢？</p>
<p><img src="../../../../../Library/Application%20Support/typora-user-images/image-20210903113459519.png" alt="image-20210903113459519" style="zoom: 50%;" /></p>
<p>我们将每一家医院看做是一个数据库，病人的病例信息都会上传到自家的数据库中存档。问题在于，每家医院的数据库都是相互独立、互不通气的，这就导致患者转院时需要重复做检查，这么做一方面可以减少医生误诊的风险（比如不信任别的医院检查结果），另一方面也是出于医院的病例信息收集和存储的要求。</p>
<p>如果将所有医院的数据库打通，实现病例信息共享，并落实好检验责任人，这样就可以避免重复性检查的发生。</p>
<p><img src="../../../../../Library/Application%20Support/typora-user-images/image-20210903114332017.png" alt="image-20210903114332017" style="zoom:50%;" /></p>
<p>好，漫画到这里就结束了，但是有几个问题它没有解释清楚。比如区块到底是什么？区块与区块之间的链路是如何产生？通过什么样的机制让区块之间链起来的？</p>
<h2 id="三进一步深挖">三、进一步深挖<a hidden class="anchor" aria-hidden="true" href="#三进一步深挖">#</a></h2>
<h4 id="q1-怎么理解区块">Q1: 怎么理解「区块」？<a hidden class="anchor" aria-hidden="true" href="#q1-怎么理解区块">#</a></h4>
<p>按照字面意思，我们可以把「区块」想象成一个个的信封，用于存放本次获取到的数据 or 信息，每写入一次数据就会对应创建一个新的区块。</p>
<p>每个「区块」包含两个部分：</p>
<ul>
<li>
<p>head部分</p>
<p>记录当前区块相关的元数据，比如生成时间，上一个区块的hash值，以及当前区块的hash值等；</p>
</li>
<li>
<p>body部分</p>
<p>记录当前区块存储的具体数据</p>
</li>
</ul>
<p><img src="https://raw.githubusercontent.com/taylor0931/pics-repo/master/img/image-20210903114818451.png" alt="image-20210903114818451" style="zoom: 67%;" /></p>
<h4 id="q2区块与区块之间的链接机制">Q2：区块与区块之间的链接机制<a hidden class="anchor" aria-hidden="true" href="#q2区块与区块之间的链接机制">#</a></h4>
<p>利用密码学里的一种「hash算法」实现区块与区块间的链接。目前比较通用的算法之一叫 <strong>SHA256</strong>。</p>
<p><img src="../../../../../Library/Application%20Support/typora-user-images/image-20210903115502162.png" alt="image-20210903115502162" style="zoom: 67%;" /></p>
<p>我们继续深入扩展，了解一下 hash 算法的具体原理</p>
<h4 id="q3hash-算法原理">Q3：Hash 算法原理<a hidden class="anchor" aria-hidden="true" href="#q3hash-算法原理">#</a></h4>
<p><img src="../../../../../Library/Application%20Support/typora-user-images/image-20210903120038208.png" alt="image-20210903120038208" style="zoom:67%;" /></p>
<p>上图的左边部分是区块的伪代码，去头去尾，我们重点看一下中间的几行hash值的计算代码。</p>
<p>很容易观察到 hash 值的计算仅涉及区块 head 里的数据，简单来讲，可以将 hash 值的计算改写成下方的公式：
$$
blockHash = SHA256 (block.header) = SHA256 (prevBlockHash +block.body+ Nonce)
$$
即，当前区块的 hash 值由 3 个参数决定：</p>
<ul>
<li>
<p>上一个区块的hash值；</p>
</li>
<li>
<p>当前区块体的特征值；</p>
</li>
<li>
<p>Nonce随机项</p>
<p><em>Ps. 之所以设置Nonce这个常量，涉及到中本聪设计比特币时的规则机制，因此Nonce值和difficlty（难度系数）将在第二部分数字货币里详细介绍，此处暂时跳过</em></p>
</li>
</ul>
<p>最终，得到一个256位的二进制数字，即hash值。</p>
<p>通过上述这样一种逻辑关系，让所有区块之间串起来了，这种逻辑傻姑娘的联动机制意味着，当某个区块内容变动时，会导致一系列的联动效应（蝴蝶效应）。因为当一个区块内存储的信息被更改后，其hash值一定会发生改变，进而引起上下游区块hash值的一连串变动。</p>
<p>然而hash值的计算十分耗时，链条越长，对算力的要求就越高。这就使得在实际操作过程中，某个区块的数据更改概率几乎为0，换句话说，存储在区块链中的数据天然无法被篡改，只能不断append（添加）数据。</p>
<h4 id="小结区块链是某种特别-niubility-的数据库">小结：区块链是某种特别 Niubility 的数据库<a hidden class="anchor" aria-hidden="true" href="#小结区块链是某种特别-niubility-的数据库">#</a></h4>
<p>$$
区块链 = 某种特别 Niubility 的数据库
$$</p>
<p>简单来讲，区块链就是一种存储数据的数据库，但由于技术设计的原因，导致它与普通的关系型数据库有所不同。</p>
<p><strong>区块链 vs. 普通关系型数据库</strong></p>
<ul>
<li>
<p>普通关系型数据库—— <strong>read</strong> <strong>&amp;</strong> <strong>write</strong> <strong>模式</strong></p>
<p>其控制权掌握在所有者（admin）手里，掌握权力的人（admin）可以对其进行篡改而不被其他利益相关者所知</p>
</li>
<li>
<p>区块链—— <strong>read</strong> <strong>&amp;</strong> <strong>append</strong> <strong>only</strong> <strong>模式</strong></p>
<p>由于hash的计算难度，导致区块内部数据的更改可能性几乎为零，所以区块链存储的数据都是<strong>真实有效</strong>的（<strong>无法被篡改</strong>），只能不断append（添加）数据记录；</p>
<p>意味着：<strong>在区块链里，围绕每一个对象的每一次的操作都会被记录（append），无论什么操作都能回溯到责任人</strong></p>
</li>
</ul>
<h4 id="q4各个区块串联起来后全量数据又是如何存储和备份的">Q4：各个区块串联起来后，全量数据又是如何存储和备份的？<a hidden class="anchor" aria-hidden="true" href="#q4各个区块串联起来后全量数据又是如何存储和备份的">#</a></h4>
<p>我们接着深入</p>
<p>当各个医院内部数据、医院与医院之间的数据都通过区块链串联起来，理论上来说，每家医院都拥有了所有医院都全量数据，但全国人民都病例信息非常庞大，如果每家医院都购买服务器保存一份全量信息的副本，成本巨大，不仅不经济，也不现实。这就涉及到另一个专业术语——「分布式存储」。</p>
<p>分布式存储到方式很多，这里仅介绍最简单的一种，如下图所示。</p>
<p><img src="../../../../../Library/Application%20Support/typora-user-images/image-20210903140828946.png" alt="image-20210903140828946" style="zoom:50%;" /></p>
<p>图中的每一台机器都可视作某个网民联网后的 PC，这些 PC 都与一台总服务器相连接，这个总服务器我们可以理解为“上帝”，它负责与其他电脑联络。假设目前机器 N 有 100 个 T 的数据要存储，具体过程如下：</p>
<p>​		1）机器A向总服务器发送请求：“呼叫老大，我现在需要 100 个 T 的存储空间”；</p>
<p>​		2）服务器接到请求后，会与目前联网的所有PC联络：“总台呼叫，请各位汇报当前是否有空余存储空间？可用空间是多少？”</p>
<p>​		3）各个联网的PC进行回复，然后总服务器汇总，并将可存储的设备列表返回给机器 N；</p>
<p>​		4）机器 N 拿到总服务器返回的可存储列表之后，根据列表上的设备名单和存储空间将这100个T的数据进行切分，向具体设备分发需要存储的“数据块”，如下图所示。</p>
<p>​		5）为了数据的安全性、一致性和完整性，<strong>每个数据块都需要进行备份</strong>，一般都会选择其他设备来存储副本；</p>
<p><img src="../../../../../Library/Application%20Support/typora-user-images/image-20210903142051159.png" alt="image-20210903142051159" style="zoom:50%;" /></p>
<p>​		6）切分、存储和备份工作完成后，机器 N 需要将这 100 个 T 的元数据发送给总服务器进行存储；此时我们可以将总服务器视为一个索引服务器，负责存储种子元数据，通过它可以找到100T的全量数据。</p>
<p>​		例如之前下载电影时遇到的“BT种子”、“迅雷种子”等，就是这部电影的元数据，包含它的名称，大小，分为几个数据块，分别存在哪里，存储的顺序是什么；下载的时候，先把种子元数据下载好后，再依次按照各个设备的存储顺序下载，最后进行拼接，下载完成。</p>
<p>这种分布式存储真正实现了“你有我有全都有”的状态，医院想要这100T的数据的时候，通过索引服务器拉下来，再拼接就好了。</p>
<h4 id="q5数据有任何的改动时是如何确保分布式存储中数据的一致性的">Q5：数据有任何的改动时，是如何确保分布式存储中数据的一致性的？<a hidden class="anchor" aria-hidden="true" href="#q5数据有任何的改动时是如何确保分布式存储中数据的一致性的">#</a></h4>
<p>分布式存储和备份后，数据有任何改动，又是如何保证数据一致性的呢？</p>
<p>这里要介绍一个用来描述分布式系统一致性问题（Distributed Consensus）的案例——<strong>「拜占庭将军问题」</strong></p>
<p>该案例是Leslie Lamport（2013 年的图灵奖得主）在论文中抽象出来的著名案例，本质上阐述的是通信过程中由于消息丢失，或是传输错误导致的<strong>信息不一致</strong>问题。</p>
<p>对于这一问题，网上文章描述的相对复杂，涉及的节点也较多，为了清晰理解，我将将军和副将的阵容最简化，精简为三个人的模型，如下图所示。</p>
<p>假设现在需要攻打临近的一个国家，将军A在大本营坐镇，发号施令。前方由他的两个副将带领军队进行攻击。将军和副官3人里都有可能出现叛徒，只要在信息传输上保证三人达成一致共识——进攻邻国，这场战争就能取得胜利。</p>
<p>假设副官 B 是叛徒，那么将军下达“进攻”命令时，副官 B 会向副官 C 谎报收到的命令，这个时候 C 会因为自己收到消息与副官 B 的不一致而一脸懵逼。</p>
<p>假设将军 A 是叛徒，那他在向两位副官下发命令的时候，就会发送两个不一样的版本，副官 B 和副官 C 在相互核对时，发现拿到的情报不一致，两脸懵逼。</p>
<p><img src="../../../../../Library/Application%20Support/typora-user-images/image-20210903142936287.png" alt="image-20210903142936287" style="zoom: 50%;" /></p>
<p>那么该如何保证大家达成一致共识呢？</p>
<ul>
<li>
<p>方案一：口头信息传输</p>
<p>在原始时代，交通条件和技术条件都很落后，基本是「出行靠走，通讯靠吼」，因此收信方在拿到上一节点传输的消息之后，两两对比，根据少数服从多数的原则，遵从多数人收到的命令即可；</p>
<p>但这个方案有弊端，当叛徒数量&gt;=1/3时，这个方法会失效。</p>
</li>
</ul>
<ul>
<li>
<p>方案二：书面信息传输（盖章）</p>
<p>这里先介绍一下加密传输的两种方式：</p>
<p>​	1）对称加密：指的是两个人事先约定好，123=ABC；只要拿到密码本，就可以破解机密信息（类似一战二战时的信息加密方式）</p>
<p>​	2）非对称加密：即每个人有两把钥匙，一把公钥，一把私钥，公钥广而告之、大家都有，私钥只有自己有；</p>
<p>本方案里用到的加密方式是非对称的形式。将军 A 在传输“进攻”消息时，通过自己的私钥进行加密；副将 B 和 C 在收到信函之后需要利用将军 A 的公钥打开，且只要能成功打开，即验证了将军 A 的真实身份。</p>
<p>副将 B 和 C 在打开成功后，还需要盖章批阅，类似“我同意进攻”的形式继续下发消息，比如与C之间通信；如果B是叛徒，由于一份文件上需要包含所有经手人的章，他是无法在盖上将军 A 印章的文书上伪造“撤退”消息的，因而保证了信息传输的一致性；</p>
<p>假设将军 A 是叛徒，他用私钥加密信息，向副将 B 传输“进攻”消息，向副将 C 传输“撤退”消息；由于要打开信函一定会用到将军A的真实公钥，所以B和C在确认将军真实身份的情况下，发现信息不一致，立刻就能识别出将军的叛徒身份。此时副将 B 和 C 将自行判断是进攻还是撤退，两者达成一致后实施，将军 A 的意见将被忽略</p>
</li>
</ul>
<p><img src="../../../../../Library/Application%20Support/typora-user-images/image-20210903144531318.png" alt="image-20210903144531318" style="zoom:50%;" /></p>
<p>这就是中本聪在设计比特币和区块链时的思路。</p>
<h4 id="小结hash链--分布式--区块链">小结：hash链 + 分布式 = 区块链<a hidden class="anchor" aria-hidden="true" href="#小结hash链--分布式--区块链">#</a></h4>
<p>通过第二阶段的深挖，我们对区块链技术有了更深刻的理解。</p>
<p>个人认为，从技术角度，区块链可以表达为上述等式，即：
$$
区块链 = hash link + 分布式存储（共识问题）
$$
这就是最原始的区块链版本。</p>
<p>在这样的链条里，每个节点都是平等的，都能参与通信，也就是所谓的公有链。但也正因为如此，当一个决策发布时，需要得到网络中超过51%的节点同意（少数服从多数），才能得以通过，因此效率十分低下。当然这中间还有 hash 值计算量大的原因，这一点会在下一节挖矿部分深挖。</p>
<p>另外，所有节点的权重都一样，这对于一项决议的通过是不科学的，因为精英阶层的意见可能比平民阶层更重要。基于此，发展出了另外一种类型的区块链——联盟链。</p>
<h2 id="四区块链的类型">四、区块链的类型<a hidden class="anchor" aria-hidden="true" href="#四区块链的类型">#</a></h2>
<h4 id="41-公有链原始版本">4.1 公有链（原始版本）<a hidden class="anchor" aria-hidden="true" href="#41-公有链原始版本">#</a></h4>
<p>公有链即上方介绍的原始版本，具有以下特征：</p>
<ul>
<li>去中心化
<ul>
<li>任何人都可以读取</li>
<li>任何人都可以通信</li>
<li>任何人都可以参与</li>
</ul>
</li>
</ul>
<p>简单来讲，无论是个人、企业还是联盟在链条里都平等（权重一致），都能收到和发送相关信息</p>
<h4 id="42-联盟链consortium-blockchains">4.2 联盟链（consortium blockchains)<a hidden class="anchor" aria-hidden="true" href="#42-联盟链consortium-blockchains">#</a></h4>
<p>属于<strong>许可链</strong>（permission blockchains)中的一种，可以理解为<strong>行业范围内的区块链</strong>；
$$
邀请机制+角色权限（权重）=联盟链
$$
特征：</p>
<ul>
<li>
<p>只有被验证的成员才能加入链条（<strong>邀请机制</strong>，我国的数字货币使用的是这一类型的区块链），不同节点有不同的角色和分工，对应不同的权限</p>
</li>
<li>
<p><strong>部分去中心化</strong></p>
<p>从系统外部来看，整个联盟就是一个中心；</p>
<p>但是从系统内部看，各个节点之间还是去中心化的，因为即使不同节点权重不同，在现实情况中也很难达到51%以上的情况</p>
</li>
</ul>
<h4 id="43-私有链">4.3 私有链<a hidden class="anchor" aria-hidden="true" href="#43-私有链">#</a></h4>
<p>属于<strong>许可链</strong>（permission blockchains)中的一种，可以理解为<strong>小范围系统内部的区块链</strong>，比如企业内部的跨部门授权区块链；</p>
<p>本质上联盟链也是私有链的一种；因为公有链可以看做是地球上的私有链，因为只有地球人的电脑系统才可以接入；</p>
<p>私有链与联盟链在效率和速度上非常有优势；且可以不用设置token机制（公有链需要token机制作为激励机制，比如比特币）</p>
<h4 id="参考资料"><em>参考资料</em><a hidden class="anchor" aria-hidden="true" href="#参考资料">#</a></h4>
<p><em>part 1. <strong>政府相关文件</strong></em></p>
<p><em>1.中国区块链技术和产业发展论坛，《中国区块链技术与应用发展白皮书》，2016-10-18.</em></p>
<p><em>2.任仲文编，《区块链领导干部读本》，人民日报出版社，2018.</em></p>
<p><em>part 2. <strong>参考书籍</strong></em></p>
<p><em>1.[美] William Mougayar，《商业区块链：开启加密经济时代》，中信出版社，2016.</em></p>
<p><em>2.韦康博，《解读区块链：重新定义未来经济》，人民邮电出版社，2017.</em></p>
<p><em>3.吴为，《区块链实战》，清华大学出版社，2017.</em></p>
<p><em>4.[美] 阿尔文德·纳拉亚南等，《区块链：技术驱动金融》，中信出版社，2016.</em></p>
<p><em>5.张健，《区块链：定义未来金融与经济格局》，机械工业出版社，2016.</em></p>
<p><em>6.长铗、韩锋等，《区块链，从数字货币到信用社会》，2016.</em></p>
<p><em>7.徐明星、刘勇、段新星、郭大治，《区块链，重塑经济与世界》，中信出版社，2016.</em></p>
<p><em>part 3. <strong>网络课程</strong></em></p>
<p><em>1.朱嘉伟，「从0到1，全面学透区块链」，MOOC.</em></p>
<p><em>2.Tiny，「区块链技术核心概念与原理讲解」，慕课网.</em></p>
<p><em>part 4. <strong>社区论坛</strong></em></p>
<p><em>1.慕课网—「手记」栏目&ndash;「区块链」专栏，<a href="https://www.imooc.com/article/blockchain"> https://www.imooc.com/article/blockchain</a></em></p>
<p><em>2.知乎相关专栏&amp;问答， <a href="https://www.zhihu.com/">https://www.zhihu.com/</a></em></p>
<p><em>3.相关blog</em></p>
<p><em>4.公众号相关文章</em></p>


  </div>
  <footer class="post-footer">
    <ul class="post-tags">
      <li><a href="https://taylor0931.github.io/tags/%E5%8C%BA%E5%9D%97%E9%93%BE/">区块链</a></li>
    </ul>
<nav class="paginav">
  <a class="prev" href="https://taylor0931.github.io/posts/web-scraper-abu-week/">
    <span class="title">« Prev Page</span>
    <br>
    <span>阿布量化周报爬虫</span>
  </a>
  <a class="next" href="https://taylor0931.github.io/posts/block_chain_2/">
    <span class="title">Next Page »</span>
    <br>
    <span>02｜比特币区块链的本质</span>
  </a>
</nav>

  </footer>
</article>
    </main>
    <footer class="footer">
    <span>&copy; 2021 <a href="https://taylor0931.github.io">Taylor&#39;s Blog</a></span>
    <span>
        Powered by
        <a href="https://gohugo.io/" rel="noopener noreferrer" target="_blank">Hugo</a> &
        <a href="https://git.io/hugopapermod" rel="noopener" target="_blank">PaperMod</a>
    </span>
</footer>
<a href="#top" aria-label="go to top" title="Go to Top (Alt + G)">
    <button class="top-link" id="top-link" type="button" accesskey="g">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 6" fill="currentColor">
            <path d="M12 6H0l6-6z" />
        </svg>
    </button>
</a>

<script>
    let menu = document.getElementById('menu')
    menu.scrollLeft = localStorage.getItem("menu-scroll-position");
    menu.onscroll = function () {
        localStorage.setItem("menu-scroll-position", menu.scrollLeft);
    }

    document.querySelectorAll('a[href^="#"]').forEach(anchor => {
        anchor.addEventListener("click", function (e) {
            e.preventDefault();
            var id = this.getAttribute("href").substr(1);
            if (!window.matchMedia('(prefers-reduced-motion: reduce)').matches) {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView({
                    behavior: "smooth"
                });
            } else {
                document.querySelector(`[id='${decodeURIComponent(id)}']`).scrollIntoView();
            }
            if (id === "top") {
                history.replaceState(null, null, " ");
            } else {
                history.pushState(null, null, `#${id}`);
            }
        });
    });

</script>
<script>
    var mybutton = document.getElementById("top-link");
    window.onscroll = function () {
        if (document.body.scrollTop > 800 || document.documentElement.scrollTop > 800) {
            mybutton.style.visibility = "visible";
            mybutton.style.opacity = "1";
        } else {
            mybutton.style.visibility = "hidden";
            mybutton.style.opacity = "0";
        }
    };

</script>
<script>
    document.getElementById("theme-toggle").addEventListener("click", () => {
        if (document.body.className.includes("dark")) {
            document.body.classList.remove('dark');
            localStorage.setItem("pref-theme", 'light');
        } else {
            document.body.classList.add('dark');
            localStorage.setItem("pref-theme", 'dark');
        }
    })

</script>
<script>
    document.querySelectorAll('pre > code').forEach((codeblock) => {
        const container = codeblock.parentNode.parentNode;

        const copybutton = document.createElement('button');
        copybutton.classList.add('copy-code');
        copybutton.innerText = 'copy';

        function copyingDone() {
            copybutton.innerText = 'copied!';
            setTimeout(() => {
                copybutton.innerText = 'copy';
            }, 2000);
        }

        copybutton.addEventListener('click', (cb) => {
            if ('clipboard' in navigator) {
                navigator.clipboard.writeText(codeblock.textContent);
                copyingDone();
                return;
            }

            const range = document.createRange();
            range.selectNodeContents(codeblock);
            const selection = window.getSelection();
            selection.removeAllRanges();
            selection.addRange(range);
            try {
                document.execCommand('copy');
                copyingDone();
            } catch (e) { };
            selection.removeRange(range);
        });

        if (container.classList.contains("highlight")) {
            container.appendChild(copybutton);
        } else if (container.parentNode.firstChild == container) {
            
        } else if (codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.nodeName == "TABLE") {
            
            codeblock.parentNode.parentNode.parentNode.parentNode.parentNode.appendChild(copybutton);
        } else {
            
            codeblock.parentNode.appendChild(copybutton);
        }
    });
</script>
</body>

</html>
